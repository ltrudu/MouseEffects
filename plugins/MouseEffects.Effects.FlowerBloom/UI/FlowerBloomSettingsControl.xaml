<UserControl x:Class="MouseEffects.Effects.FlowerBloom.UI.FlowerBloomSettingsControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" d:DesignWidth="300">
    <UserControl.Resources>
        <Style TargetType="TextBlock" x:Key="LabelStyle">
            <Setter Property="Margin" Value="0,8,0,4"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>
        <Style TargetType="Slider" x:Key="SliderStyle">
            <Setter Property="Margin" Value="0,0,0,4"/>
        </Style>
        <Style TargetType="CheckBox" x:Key="CheckBoxStyle">
            <Setter Property="Margin" Value="0,4,0,4"/>
        </Style>
        <Style TargetType="ComboBox" x:Key="ComboBoxStyle">
            <Setter Property="Margin" Value="0,0,0,8"/>
        </Style>
    </UserControl.Resources>

    <StackPanel Margin="0">
        <!-- Header Row: Enabled checkbox | Title | Fold/Unfold button -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <CheckBox x:Name="EnabledCheckBox" Content="Enabled" Grid.Column="0"
                      VerticalAlignment="Center"
                      IsChecked="True" Checked="EnabledCheckBox_Changed" Unchecked="EnabledCheckBox_Changed"/>

            <TextBlock Text="Flower Bloom" Grid.Column="1"
                       FontWeight="Bold" FontSize="14"
                       VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,0,8,0"/>

            <Button x:Name="FoldButton" Grid.Column="2"
                    Content="â–¼" Width="24" Height="24"
                    Background="Transparent" BorderThickness="0"
                    Click="FoldButton_Click" ToolTip="Expand/Collapse settings"/>
        </Grid>

        <!-- Description (always visible) -->
        <TextBlock Text="Beautiful flowers that bloom and grow organically with unfurling petals"
                   Opacity="0.7" FontSize="12" TextWrapping="Wrap" Margin="0,4,0,0"/>

        <!-- Collapsible Content Panel -->
        <StackPanel x:Name="ContentPanel" Visibility="Collapsed" Margin="0,8,0,0">

            <!-- Triggers Section -->
            <TextBlock Text="Triggers" FontWeight="Bold" FontSize="13" Margin="0,8,0,4"/>

            <CheckBox x:Name="LeftClickCheckBox" Content="Left Click"
                      Style="{StaticResource CheckBoxStyle}"
                      Checked="LeftClickCheckBox_Changed" Unchecked="LeftClickCheckBox_Changed"/>

            <CheckBox x:Name="RightClickCheckBox" Content="Right Click"
                      Style="{StaticResource CheckBoxStyle}"
                      Checked="RightClickCheckBox_Changed" Unchecked="RightClickCheckBox_Changed"/>

            <CheckBox x:Name="ContinuousSpawnCheckBox" Content="Continuous Spawn"
                      Style="{StaticResource CheckBoxStyle}"
                      Checked="ContinuousSpawnCheckBox_Changed" Unchecked="ContinuousSpawnCheckBox_Changed"/>

            <TextBlock Text="Spawn Rate (seconds)" Style="{StaticResource LabelStyle}" Margin="16,4,0,4"/>
            <Slider x:Name="SpawnRateSlider" Minimum="0.1" Maximum="3" Value="0.5"
                    Style="{StaticResource SliderStyle}" Margin="16,0,0,4"
                    ValueChanged="SpawnRateSlider_ValueChanged"/>
            <TextBlock x:Name="SpawnRateValue" Text="0.5" Opacity="0.7" FontSize="11" Margin="16,0,0,0"/>

            <!-- Flower Settings Section -->
            <TextBlock Text="Flower Settings" FontWeight="Bold" FontSize="13" Margin="0,16,0,4"/>

            <TextBlock Text="Flower Type" Style="{StaticResource LabelStyle}"/>
            <ComboBox x:Name="FlowerTypeCombo" Style="{StaticResource ComboBoxStyle}"
                      SelectionChanged="FlowerTypeCombo_Changed">
                <ComboBoxItem Content="Rose" IsSelected="True"/>
                <ComboBoxItem Content="Daisy"/>
                <ComboBoxItem Content="Lotus"/>
                <ComboBoxItem Content="Cherry Blossom"/>
            </ComboBox>

            <TextBlock Text="Color Palette" Style="{StaticResource LabelStyle}"/>
            <ComboBox x:Name="ColorPaletteCombo" Style="{StaticResource ComboBoxStyle}"
                      SelectionChanged="ColorPaletteCombo_Changed">
                <ComboBoxItem Content="Spring (Pinks, Yellows)" IsSelected="True"/>
                <ComboBoxItem Content="Summer (Reds, Oranges, Blues)"/>
                <ComboBoxItem Content="Tropical (Vibrant Purples, Magentas)"/>
                <ComboBoxItem Content="Pastel (Soft Colors)"/>
            </ComboBox>

            <TextBlock Text="Petal Count" Style="{StaticResource LabelStyle}"/>
            <Slider x:Name="PetalCountSlider" Minimum="3" Maximum="12" Value="6"
                    Style="{StaticResource SliderStyle}" ValueChanged="PetalCountSlider_ValueChanged"/>
            <TextBlock x:Name="PetalCountValue" Text="6" Opacity="0.7" FontSize="11"/>

            <TextBlock Text="Flower Size" Style="{StaticResource LabelStyle}"/>
            <Slider x:Name="FlowerSizeSlider" Minimum="30" Maximum="200" Value="80"
                    Style="{StaticResource SliderStyle}" ValueChanged="FlowerSizeSlider_ValueChanged"/>
            <TextBlock x:Name="FlowerSizeValue" Text="80" Opacity="0.7" FontSize="11"/>

            <CheckBox x:Name="ShowStemCheckBox" Content="Show Stem and Leaves"
                      Style="{StaticResource CheckBoxStyle}"
                      Checked="ShowStemCheckBox_Changed" Unchecked="ShowStemCheckBox_Changed"/>

            <CheckBox x:Name="SizeVariationCheckBox" Content="Size Variation"
                      Style="{StaticResource CheckBoxStyle}"
                      Checked="SizeVariationCheckBox_Changed" Unchecked="SizeVariationCheckBox_Changed"/>

            <TextBlock Text="Size Variation Amount" Style="{StaticResource LabelStyle}" Margin="16,4,0,4"/>
            <Slider x:Name="SizeVariationSlider" Minimum="0" Maximum="1" Value="0.3"
                    Style="{StaticResource SliderStyle}" Margin="16,0,0,4"
                    ValueChanged="SizeVariationSlider_ValueChanged"/>
            <TextBlock x:Name="SizeVariationValue" Text="0.3" Opacity="0.7" FontSize="11" Margin="16,0,0,0"/>

            <!-- Animation Settings Section -->
            <TextBlock Text="Animation Settings" FontWeight="Bold" FontSize="13" Margin="0,16,0,4"/>

            <TextBlock Text="Bloom Duration (seconds)" Style="{StaticResource LabelStyle}"/>
            <Slider x:Name="BloomDurationSlider" Minimum="0.3" Maximum="5" Value="1.5"
                    Style="{StaticResource SliderStyle}" ValueChanged="BloomDurationSlider_ValueChanged"/>
            <TextBlock x:Name="BloomDurationValue" Text="1.5" Opacity="0.7" FontSize="11"/>

            <TextBlock Text="Flower Lifetime (seconds)" Style="{StaticResource LabelStyle}"/>
            <Slider x:Name="FlowerLifetimeSlider" Minimum="2" Maximum="15" Value="5.0"
                    Style="{StaticResource SliderStyle}" ValueChanged="FlowerLifetimeSlider_ValueChanged"/>
            <TextBlock x:Name="FlowerLifetimeValue" Text="5.0" Opacity="0.7" FontSize="11"/>

            <TextBlock Text="Fade Out Duration (seconds)" Style="{StaticResource LabelStyle}"/>
            <Slider x:Name="FadeOutDurationSlider" Minimum="0.3" Maximum="3" Value="1.0"
                    Style="{StaticResource SliderStyle}" ValueChanged="FadeOutDurationSlider_ValueChanged"/>
            <TextBlock x:Name="FadeOutDurationValue" Text="1.0" Opacity="0.7" FontSize="11"/>

        </StackPanel>
    </StackPanel>
</UserControl>
