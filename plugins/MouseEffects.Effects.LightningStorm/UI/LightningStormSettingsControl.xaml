<UserControl x:Class="MouseEffects.Effects.LightningStorm.UI.LightningStormSettingsControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d">
    <UserControl.Resources>
        <ResourceDictionary>
            <Style x:Key="LabelStyle" TargetType="TextBlock">
                <Setter Property="Margin" Value="0,8,0,4" />
                <Setter Property="FontWeight" Value="SemiBold" />
            </Style>
            <Style x:Key="SectionStyle" TargetType="TextBlock">
                <Setter Property="Margin" Value="0,12,0,4" />
                <Setter Property="FontWeight" Value="Bold" />
                <Setter Property="FontSize" Value="13" />
                <Setter Property="Foreground" Value="#89B4FA" />
            </Style>
            <Style x:Key="SliderStyle" TargetType="Slider">
                <Setter Property="Margin" Value="0,0,0,4" />
            </Style>
        </ResourceDictionary>
    </UserControl.Resources>

    <StackPanel Margin="0">
        <TextBlock Text="Dramatic lightning bolts that arc from or around the mouse cursor with electric effects"
                   Opacity="0.7" FontSize="12" TextWrapping="Wrap" Margin="0,0,0,8" />

        <StackPanel Margin="0,8,0,0">
            <!-- Trigger Settings -->
            <TextBlock Text="Trigger Settings" Style="{StaticResource SectionStyle}" />
            <CheckBox Name="OnClickCheckBox" Content="Trigger on Click" Margin="0,4,0,4"
                      IsChecked="True" Checked="OnClickCheckBox_Changed" Unchecked="OnClickCheckBox_Changed" />
            <CheckBox Name="OnMoveCheckBox" Content="Trigger on Mouse Move" Margin="0,0,0,4"
                      IsChecked="False" Checked="OnMoveCheckBox_Changed" Unchecked="OnMoveCheckBox_Changed" />

            <TextBlock Text="Move Distance (px)" Style="{StaticResource LabelStyle}" />
            <Slider Name="MoveDistanceSlider" Minimum="10" Maximum="200" Value="50"
                    Style="{StaticResource SliderStyle}" ValueChanged="MoveDistanceSlider_ValueChanged" />
            <TextBlock Name="MoveDistanceValue" Text="50" Opacity="0.7" FontSize="11" />

            <CheckBox Name="RandomTimingCheckBox" Content="Random Strike Timing" Margin="0,8,0,4"
                      IsChecked="False" Checked="RandomTimingCheckBox_Changed" Unchecked="RandomTimingCheckBox_Changed" />

            <TextBlock Text="Min Strike Interval (sec)" Style="{StaticResource LabelStyle}" />
            <Slider Name="MinIntervalSlider" Minimum="0.1" Maximum="2" Value="0.5"
                    Style="{StaticResource SliderStyle}" ValueChanged="MinIntervalSlider_ValueChanged" />
            <TextBlock Name="MinIntervalValue" Text="0.5" Opacity="0.7" FontSize="11" />

            <TextBlock Text="Max Strike Interval (sec)" Style="{StaticResource LabelStyle}" />
            <Slider Name="MaxIntervalSlider" Minimum="1" Maximum="5" Value="2.0"
                    Style="{StaticResource SliderStyle}" ValueChanged="MaxIntervalSlider_ValueChanged" />
            <TextBlock Name="MaxIntervalValue" Text="2.0" Opacity="0.7" FontSize="11" />

            <!-- Bolt Settings -->
            <TextBlock Text="Bolt Settings" Style="{StaticResource SectionStyle}" />
            <TextBlock Text="Min Bolt Count" Style="{StaticResource LabelStyle}" />
            <Slider Name="MinBoltCountSlider" Minimum="1" Maximum="5" Value="1"
                    Style="{StaticResource SliderStyle}" IsSnapToTickEnabled="True"
                    TickFrequency="1" ValueChanged="MinBoltCountSlider_ValueChanged" />
            <TextBlock Name="MinBoltCountValue" Text="1" Opacity="0.7" FontSize="11" />

            <TextBlock Text="Max Bolt Count" Style="{StaticResource LabelStyle}" />
            <Slider Name="MaxBoltCountSlider" Minimum="1" Maximum="10" Value="3"
                    Style="{StaticResource SliderStyle}" IsSnapToTickEnabled="True"
                    TickFrequency="1" ValueChanged="MaxBoltCountSlider_ValueChanged" />
            <TextBlock Name="MaxBoltCountValue" Text="3" Opacity="0.7" FontSize="11" />

            <TextBlock Text="Bolt Thickness" Style="{StaticResource LabelStyle}" />
            <Slider Name="ThicknessSlider" Minimum="0.5" Maximum="10" Value="2.0"
                    Style="{StaticResource SliderStyle}" ValueChanged="ThicknessSlider_ValueChanged" />
            <TextBlock Name="ThicknessValue" Text="2.0" Opacity="0.7" FontSize="11" />

            <TextBlock Text="Branch Count" Style="{StaticResource LabelStyle}" />
            <Slider Name="BranchCountSlider" Minimum="0" Maximum="8" Value="3"
                    Style="{StaticResource SliderStyle}" IsSnapToTickEnabled="True"
                    TickFrequency="1" ValueChanged="BranchCountSlider_ValueChanged" />
            <TextBlock Name="BranchCountValue" Text="3" Opacity="0.7" FontSize="11" />

            <TextBlock Text="Branch Probability" Style="{StaticResource LabelStyle}" />
            <Slider Name="BranchProbSlider" Minimum="0" Maximum="1" Value="0.7"
                    Style="{StaticResource SliderStyle}" ValueChanged="BranchProbSlider_ValueChanged" />
            <TextBlock Name="BranchProbValue" Text="0.7" Opacity="0.7" FontSize="11" />

            <!-- Direction and Targeting -->
            <TextBlock Text="Direction and Targeting" Style="{StaticResource SectionStyle}" />
            <CheckBox Name="StrikeFromCursorCheckBox" Content="Strike From Cursor (vs. To Cursor)" Margin="0,4,0,4"
                      IsChecked="True" Checked="StrikeFromCursorCheckBox_Changed" Unchecked="StrikeFromCursorCheckBox_Changed" />
            <CheckBox Name="ChainLightningCheckBox" Content="Chain Lightning Mode" Margin="0,0,0,4"
                      IsChecked="False" Checked="ChainLightningCheckBox_Changed" Unchecked="ChainLightningCheckBox_Changed" />

            <TextBlock Text="Min Strike Distance (px)" Style="{StaticResource LabelStyle}" />
            <Slider Name="MinDistanceSlider" Minimum="50" Maximum="300" Value="100"
                    Style="{StaticResource SliderStyle}" ValueChanged="MinDistanceSlider_ValueChanged" />
            <TextBlock Name="MinDistanceValue" Text="100" Opacity="0.7" FontSize="11" />

            <TextBlock Text="Max Strike Distance (px)" Style="{StaticResource LabelStyle}" />
            <Slider Name="MaxDistanceSlider" Minimum="100" Maximum="800" Value="300"
                    Style="{StaticResource SliderStyle}" ValueChanged="MaxDistanceSlider_ValueChanged" />
            <TextBlock Name="MaxDistanceValue" Text="300" Opacity="0.7" FontSize="11" />

            <!-- Visual Settings -->
            <TextBlock Text="Visual Settings" Style="{StaticResource SectionStyle}" />
            <TextBlock Text="Bolt Lifetime (sec)" Style="{StaticResource LabelStyle}" />
            <Slider Name="LifetimeSlider" Minimum="0.05" Maximum="1" Value="0.2"
                    Style="{StaticResource SliderStyle}" ValueChanged="LifetimeSlider_ValueChanged" />
            <TextBlock Name="LifetimeValue" Text="0.2" Opacity="0.7" FontSize="11" />

            <TextBlock Text="Flicker Speed" Style="{StaticResource LabelStyle}" />
            <Slider Name="FlickerSpeedSlider" Minimum="1" Maximum="50" Value="25"
                    Style="{StaticResource SliderStyle}" ValueChanged="FlickerSpeedSlider_ValueChanged" />
            <TextBlock Name="FlickerSpeedValue" Text="25" Opacity="0.7" FontSize="11" />

            <TextBlock Text="Flash Intensity" Style="{StaticResource LabelStyle}" />
            <Slider Name="FlashSlider" Minimum="0" Maximum="1" Value="0.5"
                    Style="{StaticResource SliderStyle}" ValueChanged="FlashSlider_ValueChanged" />
            <TextBlock Name="FlashValue" Text="0.5" Opacity="0.7" FontSize="11" />

            <TextBlock Text="Glow Intensity" Style="{StaticResource LabelStyle}" />
            <Slider Name="GlowSlider" Minimum="0" Maximum="3" Value="1.0"
                    Style="{StaticResource SliderStyle}" ValueChanged="GlowSlider_ValueChanged" />
            <TextBlock Name="GlowValue" Text="1.0" Opacity="0.7" FontSize="11" />

            <CheckBox Name="PersistenceCheckBox" Content="Enable Afterimage" Margin="0,8,0,4"
                      IsChecked="False" Checked="PersistenceCheckBox_Changed" Unchecked="PersistenceCheckBox_Changed" />

            <TextBlock Text="Afterimage Fade (sec)" Style="{StaticResource LabelStyle}" />
            <Slider Name="PersistenceFadeSlider" Minimum="0.1" Maximum="2" Value="0.3"
                    Style="{StaticResource SliderStyle}" ValueChanged="PersistenceFadeSlider_ValueChanged" />
            <TextBlock Name="PersistenceFadeValue" Text="0.3" Opacity="0.7" FontSize="11" />

            <!-- Colors -->
            <TextBlock Text="Colors" Style="{StaticResource SectionStyle}" />
            <ComboBox Name="ColorModeCombo" SelectionChanged="ColorModeCombo_Changed" Margin="0,4,0,8">
                <ComboBoxItem Content="White/Blue" IsSelected="True" />
                <ComboBoxItem Content="Purple" />
                <ComboBoxItem Content="Green" />
                <ComboBoxItem Content="Red" />
                <ComboBoxItem Content="Orange" />
                <ComboBoxItem Content="Yellow" />
                <ComboBoxItem Content="Blue" />
                <ComboBoxItem Content="Pink" />
                <ComboBoxItem Content="Custom" />
            </ComboBox>

            <!-- Custom Color Options (visible when Custom is selected) -->
            <StackPanel Name="CustomColorPanel" Visibility="Collapsed">
                <TextBlock Text="Custom Color" Margin="0,4,0,2" />
                <Grid Margin="0,4,0,8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Border Name="CustomColorPreview" Grid.Column="0" Width="24" Height="24"
                            CornerRadius="4" Background="#6699FF" BorderBrush="Gray"
                            BorderThickness="1" Margin="0,0,10,0" />
                    <Button Grid.Column="1" Content="Pick Color" Background="#45475A"
                            Foreground="#CDD6F4" BorderThickness="0" Padding="10,4"
                            Click="CustomColorButton_Click" />
                </Grid>

                <CheckBox Name="RainbowCheckBox" Content="Rainbow Color" Margin="0,4,0,4"
                          IsChecked="False" Checked="RainbowCheckBox_Changed" Unchecked="RainbowCheckBox_Changed" />

                <!-- Rainbow Options (visible when Rainbow is checked) -->
                <StackPanel Name="RainbowOptionsPanel" Visibility="Collapsed" Margin="10,0,0,0">
                    <TextBlock Text="Rainbow Speed" Style="{StaticResource LabelStyle}" />
                    <Slider Name="RainbowSpeedSlider" Minimum="0.1" Maximum="5" Value="1.0"
                            Style="{StaticResource SliderStyle}" ValueChanged="RainbowSpeedSlider_ValueChanged" />
                    <TextBlock Name="RainbowSpeedValue" Text="1.0" Opacity="0.7" FontSize="11" />

                    <CheckBox Name="FullStormColorCheckBox" Content="Full Storm Color" Margin="0,8,0,4"
                              IsChecked="True" Checked="FullStormColorCheckBox_Changed" Unchecked="FullStormColorCheckBox_Changed"
                              ToolTip="When checked, the whole storm has the same rainbow color. When unchecked, each bolt has different rainbow colors." />
                </StackPanel>
            </StackPanel>

            <!-- Sparks -->
            <TextBlock Text="Impact Sparks" Style="{StaticResource SectionStyle}" />
            <CheckBox Name="EnableSparksCheckBox" Content="Enable Sparks" Margin="0,4,0,4"
                      IsChecked="True" Checked="EnableSparksCheckBox_Changed" Unchecked="EnableSparksCheckBox_Changed" />

            <TextBlock Text="Spark Count" Style="{StaticResource LabelStyle}" />
            <Slider Name="SparkCountSlider" Minimum="2" Maximum="20" Value="8"
                    Style="{StaticResource SliderStyle}" IsSnapToTickEnabled="True"
                    TickFrequency="1" ValueChanged="SparkCountSlider_ValueChanged" />
            <TextBlock Name="SparkCountValue" Text="8" Opacity="0.7" FontSize="11" />

            <TextBlock Text="Spark Lifetime (sec)" Style="{StaticResource LabelStyle}" />
            <Slider Name="SparkLifetimeSlider" Minimum="0.1" Maximum="2" Value="0.5"
                    Style="{StaticResource SliderStyle}" ValueChanged="SparkLifetimeSlider_ValueChanged" />
            <TextBlock Name="SparkLifetimeValue" Text="0.5" Opacity="0.7" FontSize="11" />

            <TextBlock Text="Spark Speed" Style="{StaticResource LabelStyle}" />
            <Slider Name="SparkSpeedSlider" Minimum="50" Maximum="500" Value="200"
                    Style="{StaticResource SliderStyle}" ValueChanged="SparkSpeedSlider_ValueChanged" />
            <TextBlock Name="SparkSpeedValue" Text="200" Opacity="0.7" FontSize="11" />
        </StackPanel>
    </StackPanel>
</UserControl>
